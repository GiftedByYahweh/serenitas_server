datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id         Int          @id @default(autoincrement())
  email      String       @unique
  username   String
  password   String
  createDate DateTime     @default(now()) @map("created_date") @db.Timestamptz(6)
  diaryNotes DailyDiary[]

  @@map("users")
}

model DailyDiary {
  id           Int       @id @default(autoincrement())
  title        String
  content      String
  createDate   DateTime  @default(now()) @map("created_date") @db.Timestamptz(6)
  hiddenStatus Boolean   @default(false) @map("hidden_status")
  isLiked      Boolean   @default(false) @map("is_liked")
  isPrivate    Boolean   @default(false) @map("is_private")
  updateDate   DateTime? @map("updated_date") @db.Timestamptz(6)
  userId       Int       @map("user_id")
  user         User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@map("daily_diary")
}

model Session {
  sid    String   @id(map: "session_pkey") @db.VarChar
  sess   Json     @db.Json
  expire DateTime @db.Timestamp(6)

  @@index([expire], map: "IDX_session_expire")
  @@map("sessions")
}
